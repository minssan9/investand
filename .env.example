# ================================================================
# KOSPI Fear & Greed Index - Environment Configuration
# ================================================================
# Copy this file to .env and update the values for your environment
# For production deployment, ensure all security-sensitive values are updated

# ================================================================
# APPLICATION SETTINGS
# ================================================================
NODE_ENV=development
PORT=3000
FRONTEND_PORT=80
BACKEND_PORT=3000

# Frontend Configuration
VITE_APP_TITLE=KOSPI Fear & Greed Index
VITE_API_BASE_URL=http://localhost:3000/api

# ================================================================
# DATABASE CONFIGURATION
# ================================================================
# For development: MySQL (default)
# For production: PostgreSQL (recommended)
DATABASE_IMAGE=mysql:8.0
DATABASE_NAME=kospi_fg_index
DATABASE_USER=fg_user
DATABASE_PASSWORD=your_secure_database_password
DATABASE_PORT=3306
DATABASE_INTERNAL_PORT=3306

# Database URL (used by Prisma ORM)
DATABASE_URL="mysql://fg_user:your_secure_database_password@localhost:3306/kospi_fg_index"

# Production PostgreSQL example:
# DATABASE_IMAGE=postgres:15-alpine
# DATABASE_URL="postgresql://fg_user:password@localhost:5432/kospi_fg_index"
# DATABASE_PORT=5432
# DATABASE_INTERNAL_PORT=5432

# ================================================================
# CACHE & SESSION STORE
# ================================================================
REDIS_PORT=6379
REDIS_PASSWORD=your_redis_password
REDIS_MAX_MEMORY=512mb
REDIS_URL=redis://:your_redis_password@localhost:6379/0

# ================================================================
# SECURITY & AUTHENTICATION
# ================================================================
JWT_SECRET=your_jwt_secret_minimum_32_characters_long_please_change_this
ADMIN_PASSWORD=your_secure_admin_password

# CORS Configuration
CORS_ENABLED=true
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:80
FRONTEND_URL=http://localhost:80

# Security Headers
HELMET_ENABLED=true

# ================================================================
# KOREAN FINANCIAL DATA APIs
# ================================================================
# DART (Data Analysis, Retrieval and Transfer System) - REQUIRED
# Get your key from: https://opendart.fss.or.kr/
DART_API_KEY=your_dart_api_key_here

# Bank of Korea (BOK) Economic Statistics API
# Get your key from: https://ecos.bok.or.kr/
BOK_API_KEY=your_bok_api_key_here

# Korea Investment & Securities API (Optional)
KIS_API_KEY=your_kis_api_key_here
KIS_API_SECRET=your_kis_api_secret_here

# ================================================================
# DATA COLLECTION & SCHEDULING
# ================================================================
ENABLE_SCHEDULER=true
SCHEDULER_TIMEZONE=Asia/Seoul

# Data collection schedule (cron format)
# Default: 4:00 PM KST on weekdays (after market close)
DATA_COLLECTION_CRON=0 16 * * 1-5
WEEKEND_DATA_COLLECTION=false

# ================================================================
# CACHING & PERFORMANCE
# ================================================================
ENABLE_CACHE=true
CACHE_TTL_MINUTES=60

# ================================================================
# RATE LIMITING
# ================================================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
API_RATE_LIMIT_WINDOW_MS=900000
API_RATE_LIMIT_MAX_REQUESTS=100

# ================================================================
# LOGGING & MONITORING
# ================================================================
LOG_LEVEL=info
LOG_FILE_PATH=logs/app.log

# Sentry Error Tracking (Optional)
# SENTRY_DSN=https://your-sentry-dsn-here

# ================================================================
# EXTERNAL SERVICES & NOTIFICATIONS
# ================================================================
# Email Configuration (Optional - for alerts)
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASS=your_app_password

# Slack Notifications (Optional)
# SLACK_WEBHOOK_URL=https://hooks.slack.com/services/your/slack/webhook

# ================================================================
# DEVELOPMENT & TESTING
# ================================================================
# Set to true to enable development features
DEBUG=false

# Test database (if different from main)
# TEST_DATABASE_URL=mysql://test_user:test_pass@localhost:3306/test_db

# ================================================================
# PRODUCTION DEPLOYMENT SETTINGS
# ================================================================
# Production domain and SSL
# DOMAIN=yourdomain.com
# SSL_EMAIL=admin@yourdomain.com

# GitHub Container Registry (for deployment)
# GITHUB_TOKEN=your_github_token
# GITHUB_ACTOR=your_github_username

# Production database connection (example)
# DATABASE_URL="mysql://username:password@your-prod-db-host:3306/kospi_fg_index"

# Production Redis (example)
# REDIS_URL=redis://:password@your-redis-host:6379/0

# Production Frontend URL
# VITE_API_BASE_URL=https://api.yourdomain.com/api
# FRONTEND_URL=https://yourdomain.com

# ================================================================
# DOCKER COMPOSE ENVIRONMENT VARIABLES
# ================================================================
# These variables control Docker Compose behavior

# Environment profile (development, staging, production)
ENVIRONMENT=development

# Custom Docker image tags (optional)
# BACKEND_IMAGE_TAG=latest
# FRONTEND_IMAGE_TAG=latest

# ================================================================
# NOTES
# ================================================================
# 1. Never commit this file with real credentials to version control
# 2. For production, use environment-specific values
# 3. Ensure DATABASE_URL matches your database configuration
# 4. DART_API_KEY is essential for Korean financial data collection
# 5. Redis password should be changed from default for security
# 6. JWT_SECRET must be at least 32 characters long
# 7. Check firewall settings for database and Redis ports in production
